/*!
 impleCode Shopping Cart
 (c) 2020 Norbert Dreszer - http://implecode.com
 */
jQuery(document).ready(function(){jQuery("#customer_panel_tabs").tabs();var r=jQuery("#customer_panel_tabs-password");r.on("click",".new-password-button button",function(){r.find(".spinner img").show();var e=r.find("#new_password_1").val();var s=r.find("#new_password_2").val();if(e!==""&&s!==""&&e!==s){r.find(".spinner img").hide();r.find(".password-reset-result").html('<div class="al-box warning">The passwords do not match!</div>')}else if(e===""||s===""){r.find(".spinner img").hide();r.find(".password-reset-result").html('<div class="al-box warning">Please fill both fields.</div>')}else{var a={action:"customer_panel_password_reset",new_password:e,repeat_new_password:s};jQuery.post(product_object.ajaxurl,a,function(){r.find(".spinner img").hide();r.find(".password-reset-result").html('<div class="al-box success">The password has been changed! Auto refresh in <span class="time">3</span> seconds.</div>');var e=3;setInterval(function(){e--;jQuery("span.time").html(e);if(e===0){location.reload()}},1e3)})}});jQuery("#customer_orders_table").on("click",".table-row .table-cell span.dashicons",function(){var e=jQuery(this).closest(".table-row");var r=e.data("order_id");if(r!==""){var n=jQuery(this).next(".order-name");var s=n.text();n.html('<input class="order-name-edit" type="text" value=""><span class="dashicons dashicons-yes"></span><span class="dashicons dashicons-no"></span>')}jQuery("#customer_orders_table").unbind("click");jQuery("#customer_orders_table").on("click",".order-name .dashicons-no",function(){n.html(s)});jQuery("#customer_orders_table").on("click",".order-name .dashicons-yes",function(){var s=jQuery(n).find(".order-name-edit");var a=s.val();var e={action:"change_order_name",order_id:r,new_name:a};s.attr("disabled",true);jQuery.post(product_object.ajaxurl,e,function(e){if(e==="done"){n.html(a)}else{s.attr("disabled",false)}})})})});