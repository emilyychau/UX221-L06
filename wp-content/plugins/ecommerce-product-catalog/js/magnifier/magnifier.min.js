if(typeof Object.create!=="function"){Object.create=function(o){function e(){}e.prototype=o;return new e}}(function(l){var i={init:function(o,e){var i=this;i.elem=e;i.$elem=l(e);i.bodyoffset=l("body").offset();i.htmloffset=l("html").offset();i.bodyoffset.top=i.bodyoffset.top-i.htmloffset.top;if(i.bodyoffset.top<0){i.bodyoffset.top=0}i.imageSrc=i.$elem.data("zoom-image")?i.$elem.data("zoom-image"):i.$elem.attr("src");i.options=l.extend({},l.fn.icZOOM.options,o);if(i.options.tint){i.options.lensColour="none";i.options.lensOpacity="1"}if(i.options.zoomType==="inner"){i.options.showLens=false}i.$elem.parent().removeAttr("title").removeAttr("alt");i.zoomImage=i.imageSrc;i.refresh(1);l("#"+i.options.gallery+" a").on("click",function(o){if(i.options.galleryActiveClass){l("#"+i.options.gallery+" a").removeClass(i.options.galleryActiveClass);l(this).addClass(i.options.galleryActiveClass)}o.preventDefault();if(l(this).data("zoom-image")){i.zoomImagePre=l(this).data("zoom-image")}else{i.zoomImagePre=l(this).data("image")}i.swaptheimage(l(this).data("image"),i.zoomImagePre);return false})},refresh:function(o){var e=this;setTimeout(function(){e.fetch(e.imageSrc)},o||e.options.refresh)},fetch:function(o){var e=this;var i=new Image;i.onload=function(){e.largeWidth=i.width;e.largeHeight=i.height;e.startZoom();e.currentImage=e.imageSrc;e.options.onZoomedImageLoaded(e.$elem)};i.src=o;return},startZoom:function(){var i=this;i.nzWidth=i.$elem.width();i.nzHeight=i.$elem.height();i.isWindowActive=false;i.isLensActive=false;i.isTintActive=false;i.overWindow=false;if(i.options.imageCrossfade){i.zoomWrap=i.$elem.wrap('<div style="height:'+i.nzHeight+"px;width:"+i.nzWidth+'px;" class="zoomWrapper" />');i.$elem.css("position","absolute")}i.zoomLock=1;i.scrollingLock=false;i.changeBgSize=false;i.currentZoomLevel=i.options.zoomLevel;i.nzOffset=i.$elem.offset();i.widthRatio=i.largeWidth/i.currentZoomLevel/i.nzWidth;i.heightRatio=i.largeHeight/i.currentZoomLevel/i.nzHeight;if(i.options.zoomType==="window"){i.zoomWindowStyle="overflow: hidden;";i.zoomWindowStyle+="background-position: 0px 0px;text-align:center;";i.zoomWindowStyle+="background-color: "+String(i.options.zoomWindowBgColour);i.zoomWindowStyle+=";width: "+String(i.options.zoomWindowWidth)+"px;";i.zoomWindowStyle+="height: "+String(i.options.zoomWindowHeight);i.zoomWindowStyle+="px;float: left;";i.zoomWindowStyle+="background-size: "+i.largeWidth/i.currentZoomLevel+"px "+i.largeHeight/i.currentZoomLevel+"px;";i.zoomWindowStyle+="display: none;z-index:100;";i.zoomWindowStyle+="border: "+String(i.options.borderSize);i.zoomWindowStyle+="px solid "+i.options.borderColour;i.zoomWindowStyle+=";background-repeat: no-repeat;";i.zoomWindowStyle+="position: absolute;"}if(i.options.zoomType==="inner"){var o=i.$elem.css("border-left-width");i.zoomWindowStyle="overflow: hidden;";i.zoomWindowStyle+="margin-left: "+String(o)+";";i.zoomWindowStyle+="margin-top: "+String(o)+";";i.zoomWindowStyle+="background-position: 0px 0px;";i.zoomWindowStyle+="width: "+String(i.nzWidth)+"px;";i.zoomWindowStyle+="height: "+String(i.nzHeight)+"px;";i.zoomWindowStyle+="px;float: left;";i.zoomWindowStyle+="display: none;";i.zoomWindowStyle+="cursor:"+i.options.cursor+";";i.zoomWindowStyle+="px solid "+i.options.borderColour;i.zoomWindowStyle+=";background-repeat: no-repeat;";i.zoomWindowStyle+="position: absolute;"}if(i.options.zoomType==="window"){var e;if(i.nzHeight<i.options.zoomWindowWidth/i.widthRatio){e=i.nzHeight}else{e=String(i.options.zoomWindowHeight/i.heightRatio)}var t;if(i.largeWidth<i.options.zoomWindowWidth){t=i.nzWidth}else{t=i.options.zoomWindowWidth/i.widthRatio}i.lensStyle="background-position: 0px 0px;width: "+String(i.options.zoomWindowWidth/i.widthRatio)+"px;height: "+String(i.options.zoomWindowHeight/i.heightRatio)+"px;";i.lensStyle+="float: right;display: none;";i.lensStyle+="overflow: hidden;";i.lensStyle+="z-index: 999;";i.lensStyle+="-webkit-transform: translateZ(0);";i.lensStyle+="transition-duration:unset;";i.lensStyle+="opacity:"+i.options.lensOpacity+";filter: alpha(opacity = "+i.options.lensOpacity*100+"); zoom:1;";i.lensStyle+="width:"+t+"px;";i.lensStyle+="height:"+e+"px;";i.lensStyle+="background-color:"+i.options.lensColour+";";i.lensStyle+="cursor:"+i.options.cursor+";";i.lensStyle+="border: "+i.options.lensBorderSize+"px"+" solid "+i.options.lensBorderColour+";background-repeat: no-repeat;position: absolute;"}i.tintStyle="display: block;";i.tintStyle+="position: absolute;";i.tintStyle+="background-color: "+i.options.tintColour+";";i.tintStyle+="filter:alpha(opacity=0);";i.tintStyle+="opacity: 0;";i.tintStyle+="width: "+i.nzWidth+"px;";i.tintStyle+="height: "+i.nzHeight+"px;";i.lensRound="";if(i.options.zoomType==="lens"){i.lensStyle="background-position: 0px 0px;";i.lensStyle+="float: left;display: none;";i.lensStyle+="border: "+String(i.options.borderSize)+"px solid "+i.options.borderColour+";";i.lensStyle+="width:"+String(i.options.lensSize)+"px;";i.lensStyle+="height:"+String(i.options.lensSize)+"px;";i.lensStyle+="background-repeat: no-repeat;position: absolute;"}if(i.options.lensShape==="round"){i.lensRound="border-top-left-radius: "+String(i.options.lensSize/2+i.options.borderSize)+"px;";i.lensRound+="border-top-right-radius: "+String(i.options.lensSize/2+i.options.borderSize)+"px;";i.lensRound+="border-bottom-left-radius: "+String(i.options.lensSize/2+i.options.borderSize)+"px;";i.lensRound+="border-bottom-right-radius: "+String(i.options.lensSize/2+i.options.borderSize)+"px;"}i.zoomContainer=l('<div class="zoomContainer" style="-webkit-transform: translateZ(0);position:absolute;left:'+Math.round(i.nzOffset.left-i.bodyoffset.left)+"px;top:"+Math.round(i.nzOffset.top-i.bodyoffset.top)+"px;height:"+i.nzHeight+"px;width:"+i.nzWidth+'px;"></div>');l("body").append(i.zoomContainer);if(i.options.containLensZoom&&i.options.zoomType==="lens"){i.zoomContainer.css("overflow","hidden")}if(i.options.zoomType!=="inner"){i.zoomLens=l('<div class="zoomLens" style="'+i.lensStyle+i.lensRound+'">&nbsp;</div>').appendTo(i.zoomContainer).on("click",function(){i.$elem.trigger("click")});if(i.options.tint){i.tintContainer=l("<div/>").addClass("tintContainer");i.zoomTint=l('<div class="zoomTint" style="'+i.tintStyle+'"></div>');i.zoomLens.wrap(i.tintContainer);i.zoomTintcss=i.zoomLens.after(i.zoomTint);i.zoomTintImage=l('<img style="position: absolute; left: 0px; top: 0px; max-width: none; width: '+i.nzWidth+"px; height: "+i.nzHeight+'px;" src="'+i.imageSrc+'">').appendTo(i.zoomLens).on("click",function(){i.$elem.trigger("click")})}}if(isNaN(i.options.zoomWindowPosition)){i.zoomWindow=l('<div style="z-index:999;left:'+i.windowOffsetLeft+"px;top:"+i.windowOffsetTop+"px;"+i.zoomWindowStyle+'" class="zoomWindow">&nbsp;</div>').appendTo("body").on("click",function(){i.$elem.trigger("click")})}else{i.zoomWindow=l('<div style="z-index:999;left:'+i.windowOffsetLeft+"px;top:"+i.windowOffsetTop+"px;"+i.zoomWindowStyle+'" class="zoomWindow">&nbsp;</div>').appendTo(i.zoomContainer).on("click",function(){i.$elem.trigger("click")})}i.zoomWindowContainer=l("<div/>").addClass("zoomWindowContainer").css("width",i.options.zoomWindowWidth);i.zoomWindow.wrap(i.zoomWindowContainer);if(i.options.zoomType==="lens"){i.zoomLens.css({backgroundImage:'url("'+i.imageSrc+'")'})}if(i.options.zoomType==="window"){i.zoomWindow.css({backgroundImage:'url("'+i.imageSrc+'")'})}if(i.options.zoomType==="inner"){i.zoomWindow.css({backgroundImage:'url("'+i.imageSrc+'")'})}i.$elem.on("touchmove",function(o){o.preventDefault();var e=o.originalEvent.touches[0]||o.originalEvent.changedTouches[0];i.setPosition(e)});i.zoomContainer.on("touchmove",function(o){if(i.options.zoomType==="inner"){i.showHideWindow("show")}o.preventDefault();var e=o.originalEvent.touches[0]||o.originalEvent.changedTouches[0];i.setPosition(e)});i.zoomContainer.on("touchend",function(){i.showHideWindow("hide");if(i.options.showLens){i.showHideLens("hide")}if(i.options.tint&&i.options.zoomType!=="inner"){i.showHideTint("hide")}});i.$elem.on("touchend",function(){i.showHideWindow("hide");if(i.options.showLens){i.showHideLens("hide")}if(i.options.tint&&i.options.zoomType!=="inner"){i.showHideTint("hide")}});if(i.options.showLens){i.zoomLens.on("touchmove",function(o){o.preventDefault();var e=o.originalEvent.touches[0]||o.originalEvent.changedTouches[0];i.setPosition(e)});i.zoomLens.on("touchend",function(){i.showHideWindow("hide");if(i.options.showLens){i.showHideLens("hide")}if(i.options.tint&&i.options.zoomType!=="inner"){i.showHideTint("hide")}})}i.$elem.on("mousemove",function(o){if(i.overWindow===false){i.setElements("show")}if(i.lastX!==o.clientX||i.lastY!==o.clientY){i.setPosition(o);i.currentLoc=o}i.lastX=o.clientX;i.lastY=o.clientY});i.zoomContainer.on("mousemove",function(o){if(i.overWindow===false){i.setElements("show")}if(i.lastX!==o.clientX||i.lastY!==o.clientY){i.setPosition(o);i.currentLoc=o}i.lastX=o.clientX;i.lastY=o.clientY});if(i.options.zoomType!=="inner"){i.zoomLens.on("mousemove",function(o){if(i.lastX!==o.clientX||i.lastY!==o.clientY){i.setPosition(o);i.currentLoc=o}i.lastX=o.clientX;i.lastY=o.clientY})}if(i.options.tint&&i.options.zoomType!=="inner"){i.zoomTint.on("mousemove",function(o){if(i.lastX!==o.clientX||i.lastY!==o.clientY){i.setPosition(o);i.currentLoc=o}i.lastX=o.clientX;i.lastY=o.clientY})}if(i.options.zoomType==="inner"){i.zoomWindow.on("mousemove",function(o){if(i.lastX!==o.clientX||i.lastY!==o.clientY){i.setPosition(o);i.currentLoc=o}i.lastX=o.clientX;i.lastY=o.clientY})}i.zoomContainer.add(i.$elem).on("mouseenter",function(){if(i.overWindow===false){i.setElements("show")}}).on("mouseleave",function(){if(!i.scrollLock){i.setElements("hide");i.options.onDestroy(i.$elem)}});if(i.options.zoomType!=="inner"){i.zoomWindow.on("mouseenter",function(){i.overWindow=true;i.setElements("hide")}).on("mouseleave",function(){i.overWindow=false})}if(i.options.zoomLevel!==1){}if(i.options.minZoomLevel){i.minZoomLevel=i.options.minZoomLevel}else{i.minZoomLevel=i.options.scrollZoomIncrement*2}if(i.options.scrollZoom){i.zoomContainer.add(i.$elem).on("mousewheel DOMMouseScroll MozMousePixelScroll",function(o){i.scrollLock=true;clearTimeout(l.data(this,"timer"));l.data(this,"timer",setTimeout(function(){i.scrollLock=false},250));var e=o.originalEvent.wheelDelta||o.originalEvent.detail*-1;o.stopImmediatePropagation();o.stopPropagation();o.preventDefault();if(e/120>0){if(i.currentZoomLevel>=i.minZoomLevel){i.changeZoomLevel(i.currentZoomLevel-i.options.scrollZoomIncrement)}}else{if(i.options.maxZoomLevel){if(i.currentZoomLevel<=i.options.maxZoomLevel){i.changeZoomLevel(parseFloat(i.currentZoomLevel)+i.options.scrollZoomIncrement)}}else{i.changeZoomLevel(parseFloat(i.currentZoomLevel)+i.options.scrollZoomIncrement)}}return false})}},setElements:function(o){var e=this;if(!e.options.zoomEnabled){return false}if(o==="show"){if(e.isWindowSet){if(e.options.zoomType==="inner"){e.showHideWindow("show")}if(e.options.zoomType==="window"){e.showHideWindow("show")}if(e.options.showLens){e.showHideLens("show")}if(e.options.tint&&e.options.zoomType!=="inner"){e.showHideTint("show")}}}if(o==="hide"){if(e.options.zoomType==="window"){e.showHideWindow("hide")}if(!e.options.tint){e.showHideWindow("hide")}if(e.options.showLens){e.showHideLens("hide")}if(e.options.tint){e.showHideTint("hide")}}},setPosition:function(o){var e=this;if(!e.options.zoomEnabled){return false}e.nzHeight=e.$elem.height();e.nzWidth=e.$elem.width();e.nzOffset=e.$elem.offset();if(e.options.tint&&e.options.zoomType!=="inner"){e.zoomTint.css({top:0});e.zoomTint.css({left:0})}if(false&&e.options.responsive&&!e.options.scrollZoom){if(e.options.showLens){var i;if(e.nzHeight<e.options.zoomWindowWidth/e.widthRatio){i=e.nzHeight}else{i=String(e.options.zoomWindowHeight/e.heightRatio)}var t;if(e.largeWidth<e.options.zoomWindowWidth){t=e.nzWidth}else{t=e.options.zoomWindowWidth/e.widthRatio}e.widthRatio=e.largeWidth/e.nzWidth;e.heightRatio=e.largeHeight/e.nzHeight;if(e.options.zoomType!=="lens"){if(e.nzHeight<e.options.zoomWindowWidth/e.widthRatio){i=e.nzHeight}else{i=String(e.options.zoomWindowHeight/e.heightRatio)}if(e.nzWidth<e.options.zoomWindowHeight/e.heightRatio){t=e.nzWidth}else{t=String(e.options.zoomWindowWidth/e.widthRatio)}e.zoomLens.css("width",t);e.zoomLens.css("height",i);if(e.options.tint){e.zoomTintImage.css("width",e.nzWidth);e.zoomTintImage.css("height",e.nzHeight)}}if(e.options.zoomType==="lens"){e.zoomLens.css({width:String(e.options.lensSize)+"px",height:String(e.options.lensSize)+"px"})}}}e.zoomContainer.css({top:Math.round(e.nzOffset.top-e.bodyoffset.top)});e.zoomContainer.css({left:Math.round(e.nzOffset.left-e.bodyoffset.left)});if(e.nzOffset.left===0){e.zoomContainer.hide()}else{e.zoomContainer.show()}e.mouseLeft=Math.round(o.pageX-e.nzOffset.left);e.mouseTop=Math.round(o.pageY-e.nzOffset.top);if(e.options.zoomType==="window"){e.Etoppos=e.mouseTop<e.zoomLens.height()/2;e.Eboppos=e.mouseTop>e.nzHeight-e.zoomLens.height()/2-e.options.lensBorderSize*2;e.Eloppos=e.mouseLeft<0+e.zoomLens.width()/2;e.Eroppos=e.mouseLeft>e.nzWidth-e.zoomLens.width()/2-e.options.lensBorderSize*2}else if(e.options.zoomType==="inner"){e.Etoppos=e.mouseTop<e.nzHeight/2/e.heightRatio;e.Eboppos=e.mouseTop>e.nzHeight-e.nzHeight/2/e.heightRatio;e.Eloppos=e.mouseLeft<0+e.nzWidth/2/e.widthRatio;e.Eroppos=e.mouseLeft>e.nzWidth-e.nzWidth/2/e.widthRatio-e.options.lensBorderSize*2}if(e.mouseLeft<0||e.mouseTop<0||e.mouseLeft>e.nzWidth||e.mouseTop>e.nzHeight){e.setElements("hide");return}else{if(e.options.showLens){e.lensLeftPos=String(Math.floor(e.mouseLeft-e.zoomLens.width()/2));e.lensTopPos=String(Math.floor(e.mouseTop-e.zoomLens.height()/2))}if(e.Etoppos){e.lensTopPos=0}if(e.Eloppos){e.windowLeftPos=0;e.lensLeftPos=0;e.tintpos=0}if(e.options.zoomType==="window"){if(e.Eboppos){e.lensTopPos=Math.max(e.nzHeight-e.zoomLens.height()-e.options.lensBorderSize*2,0)}if(e.Eroppos){e.lensLeftPos=e.nzWidth-e.zoomLens.width()-e.options.lensBorderSize*2}}else if(e.options.zoomType==="inner"){if(e.Eboppos){e.lensTopPos=Math.max(e.nzHeight-e.options.lensBorderSize*2,0)}if(e.Eroppos){e.lensLeftPos=e.nzWidth-e.nzWidth-e.options.lensBorderSize*2}}if(e.options.zoomType==="lens"){e.windowLeftPos=String(((o.pageX-e.nzOffset.left)*e.widthRatio-e.zoomLens.width()/2)*-1);e.windowTopPos=String(((o.pageY-e.nzOffset.top)*e.heightRatio-e.zoomLens.height()/2)*-1);e.zoomLens.css({backgroundPosition:e.windowLeftPos+"px "+e.windowTopPos+"px"});if(e.changeBgSize){if(e.nzHeight>e.nzWidth){if(e.options.zoomType==="lens"){e.zoomLens.css({"background-size":e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px"})}e.zoomWindow.css({"background-size":e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px"})}else{if(e.options.zoomType==="lens"){e.zoomLens.css({"background-size":e.largeWidth/e.newvaluewidth+"px "+e.largeHeight/e.newvaluewidth+"px"})}e.zoomWindow.css({"background-size":e.largeWidth/e.newvaluewidth+"px "+e.largeHeight/e.newvaluewidth+"px"})}e.changeBgSize=false}e.setWindowPostition(o)}if(e.options.tint&&e.options.zoomType!=="inner"){e.setTintPosition(o)}if(e.options.zoomType==="window"){e.setWindowPostition(o)}if(e.options.zoomType==="inner"){e.setWindowPostition(o)}if(e.options.showLens){if(e.fullwidth&&e.options.zoomType!=="lens"){e.lensLeftPos=0}e.zoomLens.css({left:e.lensLeftPos+"px",top:e.lensTopPos+"px"})}}},showHideWindow:function(o){var e=this;if(o==="show"){if(!e.isWindowActive){if(e.options.zoomWindowFadeIn){e.zoomWindow.stop(true,true,false).fadeIn(e.options.zoomWindowFadeIn)}else{e.zoomWindow.show()}e.isWindowActive=true}}if(o==="hide"){if(e.isWindowActive){if(e.options.zoomWindowFadeOut){e.zoomWindow.stop(true,true).fadeOut(e.options.zoomWindowFadeOut,function(){if(e.loop){clearInterval(e.loop);e.loop=false}})}else{e.zoomWindow.hide()}e.isWindowActive=false}}},showHideLens:function(o){var e=this;if(o==="show"){if(!e.isLensActive){if(e.options.lensFadeIn){e.zoomLens.stop(true,true,false).fadeIn(e.options.lensFadeIn)}else{e.zoomLens.show()}e.isLensActive=true}}if(o==="hide"){if(e.isLensActive){if(e.options.lensFadeOut){e.zoomLens.stop(true,true).fadeOut(e.options.lensFadeOut)}else{e.zoomLens.hide()}e.isLensActive=false}}},showHideTint:function(o){var e=this;if(o==="show"){if(!e.isTintActive){if(e.options.zoomTintFadeIn){e.zoomTint.css({opacity:e.options.tintOpacity}).animate().stop(true,true).fadeIn("slow")}else{e.zoomTint.css({opacity:e.options.tintOpacity}).animate();e.zoomTint.show()}e.isTintActive=true}}if(o==="hide"){if(e.isTintActive){if(e.options.zoomTintFadeOut){e.zoomTint.stop(true,true).fadeOut(e.options.zoomTintFadeOut)}else{e.zoomTint.hide()}e.isTintActive=false}}},setLensPostition:function(){},setWindowPostition:function(o){var e=this;if(!isNaN(e.options.zoomWindowPosition)){switch(e.options.zoomWindowPosition){case 1:e.windowOffsetTop=e.options.zoomWindowOffety;e.windowOffsetLeft=+e.nzWidth;break;case 2:if(e.options.zoomWindowHeight>e.nzHeight){e.windowOffsetTop=(e.options.zoomWindowHeight/2-e.nzHeight/2)*-1;e.windowOffsetLeft=e.nzWidth}else{}break;case 3:e.windowOffsetTop=e.nzHeight-e.zoomWindow.height()-e.options.borderSize*2;e.windowOffsetLeft=e.nzWidth;break;case 4:e.windowOffsetTop=e.nzHeight;e.windowOffsetLeft=e.nzWidth;break;case 5:e.windowOffsetTop=e.nzHeight;e.windowOffsetLeft=e.nzWidth-e.zoomWindow.width()-e.options.borderSize*2;break;case 6:if(e.options.zoomWindowHeight>e.nzHeight){e.windowOffsetTop=e.nzHeight;e.windowOffsetLeft=(e.options.zoomWindowWidth/2-e.nzWidth/2+e.options.borderSize*2)*-1}else{}break;case 7:e.windowOffsetTop=e.nzHeight;e.windowOffsetLeft=0;break;case 8:e.windowOffsetTop=e.nzHeight;e.windowOffsetLeft=(e.zoomWindow.width()+e.options.borderSize*2)*-1;break;case 9:e.windowOffsetTop=e.nzHeight-e.zoomWindow.height()-e.options.borderSize*2;e.windowOffsetLeft=(e.zoomWindow.width()+e.options.borderSize*2)*-1;break;case 10:if(e.options.zoomWindowHeight>e.nzHeight){e.windowOffsetTop=(e.options.zoomWindowHeight/2-e.nzHeight/2)*-1;e.windowOffsetLeft=(e.zoomWindow.width()+e.options.borderSize*2)*-1}else{}break;case 11:e.windowOffsetTop=e.options.zoomWindowOffety;e.windowOffsetLeft=(e.zoomWindow.width()+e.options.borderSize*2)*-1;break;case 12:e.windowOffsetTop=(e.zoomWindow.height()+e.options.borderSize*2)*-1;e.windowOffsetLeft=(e.zoomWindow.width()+e.options.borderSize*2)*-1;break;case 13:e.windowOffsetTop=(e.zoomWindow.height()+e.options.borderSize*2)*-1;e.windowOffsetLeft=0;break;case 14:if(e.options.zoomWindowHeight>e.nzHeight){e.windowOffsetTop=(e.zoomWindow.height()+e.options.borderSize*2)*-1;e.windowOffsetLeft=(e.options.zoomWindowWidth/2-e.nzWidth/2+e.options.borderSize*2)*-1}else{}break;case 15:e.windowOffsetTop=(e.zoomWindow.height()+e.options.borderSize*2)*-1;e.windowOffsetLeft=e.nzWidth-e.zoomWindow.width()-e.options.borderSize*2;break;case 16:e.windowOffsetTop=(e.zoomWindow.height()+e.options.borderSize*2)*-1;e.windowOffsetLeft=e.nzWidth;break;default:e.windowOffsetTop=e.options.zoomWindowOffety;e.windowOffsetLeft=e.nzWidth}}else{e.externalContainer=l("#"+e.options.zoomWindowPosition);e.externalContainerWidth=e.externalContainer.width();e.externalContainerHeight=e.externalContainer.height();e.externalContainerOffset=e.externalContainer.offset();e.windowOffsetTop=e.externalContainerOffset.top;e.windowOffsetLeft=e.externalContainerOffset.left}e.isWindowSet=true;e.windowOffsetTop=e.windowOffsetTop+e.options.zoomWindowOffety;e.windowOffsetLeft=e.windowOffsetLeft+e.options.zoomWindowOffetx;e.zoomWindow.css({top:e.windowOffsetTop});e.zoomWindow.css({left:e.windowOffsetLeft});if(e.options.zoomType==="inner"){e.zoomWindow.css({top:0});e.zoomWindow.css({left:0})}e.windowLeftPos=String(((o.pageX-e.nzOffset.left)*e.widthRatio-e.zoomWindow.width()/2)*-1);e.windowTopPos=String(((o.pageY-e.nzOffset.top)*e.heightRatio-e.zoomWindow.height()/2)*-1);if(e.Etoppos){e.windowTopPos=0}if(e.Eloppos){e.windowLeftPos=0}if(e.Eboppos){e.windowTopPos=(e.largeHeight/e.currentZoomLevel-e.zoomWindow.height())*-1}if(e.Eroppos){e.windowLeftPos=(e.largeWidth/e.currentZoomLevel-e.zoomWindow.width())*-1}if(e.fullheight){e.windowTopPos=0}if(e.fullwidth){e.windowLeftPos=0}if(e.options.zoomType==="window"||e.options.zoomType==="inner"){if(e.zoomLock===1){if(e.widthRatio<=1){e.windowLeftPos=0}if(e.heightRatio<=1){e.windowTopPos=0}}if(e.options.zoomType==="window"){if(e.largeHeight<e.options.zoomWindowHeight){e.windowTopPos=0}if(e.largeWidth<e.options.zoomWindowWidth){e.windowLeftPos=0}}if(e.options.easing){if(!e.xp){e.xp=0}if(!e.yp){e.yp=0}if(!e.loop){e.loop=setInterval(function(){e.xp+=(e.windowLeftPos-e.xp)/e.options.easingAmount;e.yp+=(e.windowTopPos-e.yp)/e.options.easingAmount;if(e.scrollingLock){clearInterval(e.loop);e.xp=e.windowLeftPos;e.yp=e.windowTopPos;e.xp=((o.pageX-e.nzOffset.left)*e.widthRatio-e.zoomWindow.width()/2)*-1;e.yp=((o.pageY-e.nzOffset.top)*e.heightRatio-e.zoomWindow.height()/2)*-1;if(e.changeBgSize){if(e.nzHeight>e.nzWidth){if(e.options.zoomType==="lens"){e.zoomLens.css({"background-size":e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px"})}e.zoomWindow.css({"background-size":e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px"})}else{if(e.options.zoomType!=="lens"){e.zoomLens.css({"background-size":e.largeWidth/e.newvaluewidth+"px "+e.largeHeight/e.newvalueheight+"px"})}e.zoomWindow.css({"background-size":e.largeWidth/e.newvaluewidth+"px "+e.largeHeight/e.newvaluewidth+"px"})}e.changeBgSize=false}e.zoomWindow.css({backgroundPosition:e.windowLeftPos+"px "+e.windowTopPos+"px"});e.scrollingLock=false;e.loop=false}else if(Math.round(Math.abs(e.xp-e.windowLeftPos)+Math.abs(e.yp-e.windowTopPos))<1){clearInterval(e.loop);e.zoomWindow.css({backgroundPosition:e.windowLeftPos+"px "+e.windowTopPos+"px"});e.loop=false}else{if(e.changeBgSize){if(e.nzHeight>e.nzWidth){if(e.options.zoomType==="lens"){e.zoomLens.css({"background-size":e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px"})}e.zoomWindow.css({"background-size":e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px"})}else{if(e.options.zoomType!=="lens"){e.zoomLens.css({"background-size":e.largeWidth/e.newvaluewidth+"px "+e.largeHeight/e.newvaluewidth+"px"})}e.zoomWindow.css({"background-size":e.largeWidth/e.newvaluewidth+"px "+e.largeHeight/e.newvaluewidth+"px"})}e.changeBgSize=false}e.zoomWindow.css({backgroundPosition:e.xp+"px "+e.yp+"px"})}},16)}}else{if(e.changeBgSize){if(e.nzHeight>e.nzWidth){if(e.options.zoomType==="lens"){e.zoomLens.css({"background-size":e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px"})}e.zoomWindow.css({"background-size":e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px"})}else{if(e.options.zoomType==="lens"){e.zoomLens.css({"background-size":e.largeWidth/e.newvaluewidth+"px "+e.largeHeight/e.newvaluewidth+"px"})}if(e.largeHeight/e.newvaluewidth<e.options.zoomWindowHeight){e.zoomWindow.css({"background-size":e.largeWidth/e.newvaluewidth+"px "+e.largeHeight/e.newvaluewidth+"px"})}else{e.zoomWindow.css({"background-size":e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px"})}}e.changeBgSize=false}e.zoomWindow.css({backgroundPosition:e.windowLeftPos+"px "+e.windowTopPos+"px"})}}},setTintPosition:function(o){var e=this;e.nzOffset=e.$elem.offset();e.tintpos=String((o.pageX-e.nzOffset.left-e.zoomLens.width()/2)*-1);e.tintposy=String((o.pageY-e.nzOffset.top-e.zoomLens.height()/2)*-1);if(e.Etoppos){e.tintposy=0}if(e.Eloppos){e.tintpos=0}if(e.Eboppos){e.tintposy=(e.nzHeight-e.zoomLens.height()-e.options.lensBorderSize*2)*-1}if(e.Eroppos){e.tintpos=(e.nzWidth-e.zoomLens.width()-e.options.lensBorderSize*2)*-1}if(e.options.tint){if(e.fullheight){e.tintposy=0}if(e.fullwidth){e.tintpos=0}e.zoomTintImage.css({left:e.tintpos+"px"});e.zoomTintImage.css({top:e.tintposy+"px"})}},swaptheimage:function(o,e){var i=this;var t=new Image;if(i.options.loadingIcon){i.spinner=l('<div style="background: url("'+i.options.loadingIcon+'") no-repeat center;height:'+i.nzHeight+"px;width:"+i.nzWidth+'px;z-index: 2000;position: absolute; background-position: center center;"></div>');i.$elem.after(i.spinner)}i.options.onImageSwap(i.$elem);t.onload=function(){i.largeWidth=t.width;i.largeHeight=t.height;i.zoomImage=e;i.zoomWindow.css({"background-size":i.largeWidth+"px "+i.largeHeight+"px"});i.swapAction(o,e);return};t.src=e},swapAction:function(o,e){var i=this;var t=new Image;t.onload=function(){i.nzHeight=t.height;i.nzWidth=t.width;i.options.onImageSwapComplete(i.$elem);i.doneCallback();return};t.src=o;i.currentZoomLevel=i.options.zoomLevel;i.options.maxZoomLevel=false;if(i.options.zoomType==="lens"){i.zoomLens.css({backgroundImage:'url("'+e+'")'})}if(i.options.zoomType==="window"){i.zoomWindow.css({backgroundImage:'url("'+e+'")'})}if(i.options.zoomType==="inner"){i.zoomWindow.css({backgroundImage:'url("'+e+'")'})}i.currentImage=e;if(i.options.imageCrossfade){var n=i.$elem;var s=n.clone();i.$elem.attr("src",o);i.$elem.after(s);s.stop(true).fadeOut(i.options.imageCrossfade,function(){l(this).remove()});i.$elem.width("auto").removeAttr("width");i.$elem.height("auto").removeAttr("height");n.fadeIn(i.options.imageCrossfade);if(i.options.tint&&i.options.zoomType!=="inner"){var a=i.zoomTintImage;var h=a.clone();i.zoomTintImage.attr("src",e);i.zoomTintImage.after(h);h.stop(true).fadeOut(i.options.imageCrossfade,function(){l(this).remove()});a.fadeIn(i.options.imageCrossfade);i.zoomTint.css({height:i.$elem.height()});i.zoomTint.css({width:i.$elem.width()})}i.zoomContainer.css("height",i.$elem.height());i.zoomContainer.css("width",i.$elem.width());if(i.options.zoomType==="inner"){if(!i.options.constrainType){i.zoomWrap.parent().css("height",i.$elem.height());i.zoomWrap.parent().css("width",i.$elem.width());i.zoomWindow.css("height",i.$elem.height());i.zoomWindow.css("width",i.$elem.width())}}if(i.options.imageCrossfade){i.zoomWrap.css("height",i.$elem.height());i.zoomWrap.css("width",i.$elem.width())}}else{i.$elem.attr("src",o);if(i.options.tint){i.zoomTintImage.attr("src",e);i.zoomTintImage.attr("height",i.$elem.height());i.zoomTintImage.css({height:i.$elem.height()});i.zoomTint.css({height:i.$elem.height()})}i.zoomContainer.css("height",i.$elem.height());i.zoomContainer.css("width",i.$elem.width());if(i.options.imageCrossfade){i.zoomWrap.css("height",i.$elem.height());i.zoomWrap.css("width",i.$elem.width())}}if(i.options.constrainType){if(i.options.constrainType==="height"){i.zoomContainer.css("height",i.options.constrainSize);i.zoomContainer.css("width","auto");if(i.options.imageCrossfade){i.zoomWrap.css("height",i.options.constrainSize);i.zoomWrap.css("width","auto");i.constwidth=i.zoomWrap.width()}else{i.$elem.css("height",i.options.constrainSize);i.$elem.css("width","auto");i.constwidth=i.$elem.width()}if(i.options.zoomType==="inner"){i.zoomWrap.parent().css("height",i.options.constrainSize);i.zoomWrap.parent().css("width",i.constwidth);i.zoomWindow.css("height",i.options.constrainSize);i.zoomWindow.css("width",i.constwidth)}if(i.options.tint){i.tintContainer.css("height",i.options.constrainSize);i.tintContainer.css("width",i.constwidth);i.zoomTint.css("height",i.options.constrainSize);i.zoomTint.css("width",i.constwidth);i.zoomTintImage.css("height",i.options.constrainSize);i.zoomTintImage.css("width",i.constwidth)}}if(i.options.constrainType==="width"){i.zoomContainer.css("height","auto");i.zoomContainer.css("width",i.options.constrainSize);if(i.options.imageCrossfade){i.zoomWrap.css("height","auto");i.zoomWrap.css("width",i.options.constrainSize);i.constheight=i.zoomWrap.height()}else{i.$elem.css("height","auto");i.$elem.css("width",i.options.constrainSize);i.constheight=i.$elem.height()}if(i.options.zoomType==="inner"){i.zoomWrap.parent().css("height",i.constheight);i.zoomWrap.parent().css("width",i.options.constrainSize);i.zoomWindow.css("height",i.constheight);i.zoomWindow.css("width",i.options.constrainSize)}if(i.options.tint){i.tintContainer.css("height",i.constheight);i.tintContainer.css("width",i.options.constrainSize);i.zoomTint.css("height",i.constheight);i.zoomTint.css("width",i.options.constrainSize);i.zoomTintImage.css("height",i.constheight);i.zoomTintImage.css("width",i.options.constrainSize)}}}},doneCallback:function(){var o=this;if(o.options.loadingIcon){o.spinner.hide()}o.nzWidth=o.$elem.width();o.nzHeight=o.$elem.height();o.currentZoomLevel=o.options.zoomLevel;o.widthRatio=o.largeWidth/o.nzWidth;o.heightRatio=o.largeHeight/o.nzHeight;if(o.options.zoomType==="window"){var e;if(o.nzHeight<o.options.zoomWindowWidth/o.widthRatio){e=o.nzHeight}else{e=String(o.options.zoomWindowHeight/o.heightRatio)}var i;if(o.options.zoomWindowWidth<o.options.zoomWindowWidth){i=o.nzWidth}else{i=o.options.zoomWindowWidth/o.widthRatio}if(o.zoomLens){o.zoomLens.css("width",i);o.zoomLens.css("height",e)}}},getCurrentImage:function(){var o=this;return o.zoomImage},getGalleryList:function(){var e=this;e.gallerylist=[];if(e.options.gallery){l("#"+e.options.gallery+" a").each(function(){var o="";if(l(this).data("zoom-image")){o=l(this).data("zoom-image")}else if(l(this).data("image")){o=l(this).data("image")}if(o===e.zoomImage){e.gallerylist.unshift({href:""+o+"",title:l(this).find("img").attr("title")})}else{e.gallerylist.push({href:""+o+"",title:l(this).find("img").attr("title")})}})}else{e.gallerylist.push({href:""+e.zoomImage+"",title:l(this).find("img").attr("title")})}return e.gallerylist},changeZoomLevel:function(o){var e=this;e.scrollingLock=true;e.newvalue=parseFloat(o).toFixed(2);var i=parseFloat(o).toFixed(2);var t=e.largeHeight/(e.options.zoomWindowHeight/e.nzHeight*e.nzHeight);var n=e.largeWidth/(e.options.zoomWindowWidth/e.nzWidth*e.nzWidth);if(e.options.zoomType!=="inner"){if(t<=i){e.heightRatio=e.largeHeight/t/e.nzHeight;e.newvalueheight=t;e.fullheight=true}else{e.heightRatio=e.largeHeight/i/e.nzHeight;e.newvalueheight=i;e.fullheight=false}if(n<=i){e.widthRatio=e.largeWidth/n/e.nzWidth;e.newvaluewidth=n;e.fullwidth=true}else{e.widthRatio=e.largeWidth/i/e.nzWidth;e.newvaluewidth=i;e.fullwidth=false}if(e.options.zoomType==="lens"){if(t<=i){e.fullwidth=true;e.newvaluewidth=t}else{e.widthRatio=e.largeWidth/i/e.nzWidth;e.newvaluewidth=i;e.fullwidth=false}}}if(e.options.zoomType==="inner"){t=parseFloat(e.largeHeight/e.nzHeight).toFixed(2);n=parseFloat(e.largeWidth/e.nzWidth).toFixed(2);if(i>t){i=t}if(i>n){i=n}if(t<=i){e.heightRatio=e.largeHeight/i/e.nzHeight;if(i>t){e.newvalueheight=t}else{e.newvalueheight=i}e.fullheight=true}else{e.heightRatio=e.largeHeight/i/e.nzHeight;if(i>t){e.newvalueheight=t}else{e.newvalueheight=i}e.fullheight=false}if(n<=i){e.widthRatio=e.largeWidth/i/e.nzWidth;if(i>n){e.newvaluewidth=n}else{e.newvaluewidth=i}e.fullwidth=true}else{e.widthRatio=e.largeWidth/i/e.nzWidth;e.newvaluewidth=i;e.fullwidth=false}}var s=false;if(e.options.zoomType==="inner"){if(e.nzWidth>=e.nzHeight){if(e.newvaluewidth<=n){s=true}else{s=false;e.fullheight=true;e.fullwidth=true}}if(e.nzHeight>e.nzWidth){if(e.newvaluewidth<=n){s=true}else{s=false;e.fullheight=true;e.fullwidth=true}}}if(e.options.zoomType!=="inner"){s=true}if(s){e.zoomLock=0;e.changeZoom=true;if(e.options.zoomWindowHeight/e.heightRatio<=e.nzHeight){e.currentZoomLevel=e.newvalueheight;if(e.options.zoomType!=="lens"&&e.options.zoomType!=="inner"){e.changeBgSize=true;e.zoomLens.css({height:String(e.options.zoomWindowHeight/e.heightRatio)+"px"})}if(e.options.zoomType==="lens"||e.options.zoomType==="inner"){e.changeBgSize=true}}if(e.options.zoomWindowWidth/e.widthRatio<=e.nzWidth){if(e.options.zoomType!=="inner"){if(e.newvaluewidth>e.newvalueheight){e.currentZoomLevel=e.newvaluewidth}}if(e.options.zoomType!=="lens"&&e.options.zoomType!=="inner"){e.changeBgSize=true;e.zoomLens.css({width:String(e.options.zoomWindowWidth/e.widthRatio)+"px"})}if(e.options.zoomType==="lens"||e.options.zoomType==="inner"){e.changeBgSize=true}}if(e.options.zoomType==="inner"){e.changeBgSize=true;if(e.nzWidth>e.nzHeight){e.currentZoomLevel=e.newvaluewidth}if(e.nzHeight>e.nzWidth){e.currentZoomLevel=e.newvaluewidth}}}e.setPosition(e.currentLoc)},closeAll:function(){var o=this;if(o.zoomWindow){o.zoomWindow.hide()}if(o.zoomLens){o.zoomLens.hide()}if(o.zoomTint){o.zoomTint.hide()}},changeState:function(o){var e=this;if(o==="enable"){e.options.zoomEnabled=true}if(o==="disable"){e.options.zoomEnabled=false}}};l.fn.icZOOM=function(e){return this.each(function(){var o=Object.create(i);o.init(e,this);l.data(this,"icZOOM",o)})};l.fn.icZOOM.options={zoomActivation:"hover",zoomEnabled:true,preloading:1,zoomLevel:1,scrollZoom:false,scrollZoomIncrement:.1,minZoomLevel:false,maxZoomLevel:false,easing:false,easingAmount:12,lensSize:200,zoomWindowWidth:400,zoomWindowHeight:400,zoomWindowOffetx:0,zoomWindowOffety:0,zoomWindowPosition:1,zoomWindowBgColour:"#fff",lensFadeIn:false,lensFadeOut:false,debug:false,zoomWindowFadeIn:false,zoomWindowFadeOut:false,zoomWindowAlwaysShow:false,zoomTintFadeIn:false,zoomTintFadeOut:false,borderSize:4,showLens:true,borderColour:"#888",lensBorderSize:1,lensBorderColour:"#000",lensShape:"square",zoomType:"window",containLensZoom:false,lensColour:"white",lensOpacity:.4,lenszoom:false,tint:false,tintColour:"#333",tintOpacity:.4,gallery:false,galleryActiveClass:"zoomGalleryActive",imageCrossfade:false,constrainType:false,constrainSize:false,loadingIcon:false,cursor:"default",responsive:true,onComplete:l.noop,onDestroy:function(){},onZoomedImageLoaded:function(){},onImageSwap:l.noop,onImageSwapComplete:l.noop}})(jQuery,window,document);