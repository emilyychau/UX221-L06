/*!
 impleCode Product Scripts v1.0.0
 Manages product related scripts
 (c) 2024 impleCode - https://implecode.com

 */
if(typeof implecode==="undefined"){var implecode=[]}ic_define_hooks();jQuery(document).ready(function(e){ic_define_hooks();responsive_product_catalog();initialize_ic_tabs();setTimeout(modern_grid_font_size,0);jQuery.ic.addAction("ic_change_responsive",function(){redefine_ic_tabs()});e(window).on("resize",function(){if(e(document.activeElement).attr("type")===undefined){responsive_product_catalog();setTimeout(modern_grid_font_size,0);ic_apply_magnifier()}});if(typeof colorbox==="object"&&e(".a-product-image").length){e(".a-product-image").colorbox(product_object.lightbox_settings)}ic_apply_magnifier();jQuery("body").on("change",".ic_self_submit",function(){var e=jQuery(this).closest("form");if(e.find('[type="submit"]').length===0||e.find('[type="submit"]').not(":visible").length>0){e.submit()}});jQuery(".product-category-widget, .widget_product_categories, .ic-catalog-container").on("change",".ic-category-select",function(){var e=jQuery(this).val();if(e&&e!=="none"){location.href=e}});jQuery(".dismiss-empty-bar").on("click",function(e){e.preventDefault();var i={action:"hide_empty_bar_message"};jQuery.post(product_object.ajaxurl,i,function(){jQuery("div.product-sort-bar").hide("slow")})});jQuery(".al-box").on("click",".notice-dismiss",function(){var e=jQuery(this).closest(".al-box");e.css("opacity","0.5");var i=e.data("hash");if(i!==undefined){var t={action:"ic_ajax_hide_message",hash:i,nonce:product_object.nonce};jQuery.post(product_object.ajaxurl,t,function(){e.hide("slow")})}});ic_responsive_filters_bar();e("body").on("reload",".product-sort-bar",function(){});e.ic.addAction("ic_change_responsive",function(e){ic_responsive_filters_bar(e)});e.ic.addAction("ic_self_submit",function(){responsive_product_catalog();e(".product-size-filter-container.toReload").trigger("reload")});e.ic.addAction("ic_self_submit_before",function(){jQuery(".responsive-filters").hide()});jQuery("body").on("click",".responsive-filters-button",function(){if(jQuery(".responsive-filters").is(":visible")){jQuery(".responsive-filters").hide()}else{jQuery(".responsive-filters").show();if(jQuery(".responsive-filters-section").length===1){jQuery(".responsive-filters-section-content").show();jQuery(".responsive-filters-section-title").addClass("open")}jQuery(".responsive-filters .responsive-filters-section-content").find(".filter-active").each(function(){jQuery(this).closest(".responsive-filters-section-content").show();jQuery(this).closest(".responsive-filters-section-title").addClass("open")});ic_adjust_responsive_filters_height()}});jQuery("body").on("click",function(e){var i=jQuery(".responsive-filters-button, .responsive-filters");if(!i.is(e.target)&&i.has(e.target).length===0){jQuery(".responsive-filters").hide()}});jQuery("body").on("click",".responsive-filters-section-title",function(){jQuery(".responsive-filters-section-content").hide();if(!jQuery(this).hasClass("open")){jQuery(".responsive-filters-section-title").removeClass("open");jQuery(this).addClass("open");jQuery(this).next(".responsive-filters-section-content").show()}else{jQuery(".responsive-filters-section-title").removeClass("open")}ic_adjust_responsive_filters_height()});jQuery(".ic-icon-url.ic-show-content").on("click",function(e){e.preventDefault();var i=jQuery(this).closest(".ic-bar-icon").find(".ic-icon-hidden-content");jQuery(".ic-icon-url").hide();i.slideToggle(300)});jQuery(document).on("mouseup",function(e){var i=jQuery(".ic-icon-url.ic-show-content, .ic-icon-hidden-content");var t=jQuery(".ic-popup-close");if(!i.is(e.target)&&i.has(e.target).length===0){ic_close_icons_hidden_content()}else if(t.is(e.target)){ic_close_icons_hidden_content()}});jQuery(".ic-overlay-container").on("click",function(e){if(e.target!==this&&!jQuery(e.target).hasClass("ic-popup-cancel")){return}jQuery(this).hide()})});function ic_adjust_responsive_filters_height(){var e=jQuery(".responsive-filters").outerHeight();var i=jQuery(".product-list").outerHeight();if(e>i){jQuery(".responsive-filters .responsive-filters-section-content").css("max-height",i+"px");jQuery(".responsive-filters .responsive-filters-section-content").css("overflow","auto")}}function ic_close_icons_hidden_content(){var e=jQuery(".ic-catalog-bar");e.each(function(){var e=jQuery(this).find(".ic-bar-icon");var i=e.find(".ic-icon-hidden-content");if(i.length>0){i.slideUp(300,function(){e.find(".ic-icon-url").show()})}else{e.find(".ic-icon-url").show()}})}function ic_apply_magnifier(){if(typeof jQuery(".ic_magnifier").icZOOM!=="function"){return}var e;if(jQuery(".ic_magnifier").length&&!jQuery(".responsive .ic_magnifier").length&&!jQuery(".ic_magnifier.magnigier_on").length){var i=1;if(jQuery(".boxed .ic_magnifier").length){i=1}jQuery(".ic_magnifier").icZOOM({cursor:"pointer",responsive:true,zoomWindowPosition:i});jQuery(".ic_magnifier").addClass("magnigier_on")}else if(jQuery(".ic_magnifier.magnigier_on").length&&jQuery(".responsive .ic_magnifier").length){e=jQuery(".ic_magnifier.magnigier_on").data("icZOOM");if(e!==undefined){e.changeState("disable")}}else if(jQuery(".ic_magnifier.magnigier_on").length&&!jQuery(".responsive .ic_magnifier").length){e=jQuery(".ic_magnifier.magnigier_on").data("icZOOM");if(e!==undefined){e.changeState("enable")}}}function ic_define_hooks(){if(jQuery.ic===undefined){jQuery.ic={hooks:{action:{},filter:{}},addAction:function(e,i,t){jQuery.ic.addHook("action",e,i,t)},addFilter:function(e,i,t){jQuery.ic.addHook("filter",e,i,t)},doAction:function(e,i){jQuery.ic.doHook("action",e,null,i)},applyFilters:function(e,i,t){return jQuery.ic.doHook("filter",e,i,t)},removeAction:function(e,i){jQuery.ic.removeHook("action",e,i)},removeFilter:function(e,i){jQuery.ic.removeHook("filter",e,i)},addHook:function(e,i,t,o){if(undefined===jQuery.ic.hooks[e][i]){jQuery.ic.hooks[e][i]=[]}var n=jQuery.ic.hooks[e][i];if(undefined===o){o=i+"_"+n.length}jQuery.ic.hooks[e][i].push({tag:o,callable:t})},doHook:function(e,i,t,o){if(undefined!==jQuery.ic.hooks[e][i]){var n=jQuery.ic.hooks[e][i];for(var r=0;r<n.length;r++){if("action"===e){n[r].callable(o)}else{t=n[r].callable(t,o)}}}if("filter"===e){return t}},removeHook:function(e,i,t){if(undefined!==jQuery.ic.hooks[e][i]){var o=jQuery.ic.hooks[e][i];for(var n=o.length-1;n>=0;n--){if(undefined===t||t===o[n].tag){o.splice(n,1)}}}}}}}function ic_switch_popstate_tabs(){var e="product_description";var i;if(window.location.hash!==""){e=window.location.hash;e=e.replace("_tab","").replace("#","");jQuery(".boxed .after-product-details").each(function(){i=jQuery(this).find("h3[data-tab_id="+e+"]");ic_enter_tab(e,i)})}else{i=jQuery(".boxed .after-product-details h3:first-of-type");if(!i.hasClass("active")){set_default_ic_tab();history.replaceState("",document.title,window.location.pathname+window.location.search)}}}function initialize_ic_tabs(){responsive_product_catalog(false);if(jQuery(".boxed").length){jQuery(window).on("popstate",ic_switch_popstate_tabs);if(jQuery(".boxed").hasClass("responsive")){ic_accordion()}else if(jQuery(".boxed").length){ic_tabs()}jQuery(document).trigger("ic_tabs_initialized")}}function redefine_ic_tabs(){responsive_product_catalog(false);jQuery(".boxed .after-product-details").each(function(){var e=jQuery(this);if(e.hasClass("ic_accordion_container")){e.find("> div").each(function(){var e=jQuery(this).find(".ic_accordion_content_container");e.show();e.removeClass("ic_accordion_content_container")});e.removeClass("ic_accordion_container")}else if(e.hasClass("ic_tabs_container")){e.find(".ic_tabs h3").each(function(){var e=jQuery(this).find("a");jQuery(this).prepend(e.text());e.remove();jQuery(this).addClass("catalog-header");var i=jQuery(this).data("tab_id");jQuery(".boxed .after-product-details #"+i).prepend(jQuery(this))});e.find("> div").removeClass("ic_tab_content").css("display","");e.find(".ic_tabs").remove();e.removeClass("ic_tabs_container")}});initialize_ic_tabs()}function ic_accordion(){jQuery(".boxed .after-product-details > div").each(function(){jQuery(this).children().wrapAll('<div class="ic_accordion_content_container" />');jQuery(this).find(".catalog-header").prependTo(jQuery(this))});ic_accordion_initial_hide();if(window.location.hash!==""){var e=window.location.hash.replace("_tab","").replace("#","");var i=jQuery(".boxed .after-product-details > #"+e+" > .catalog-header");if(i.length){i.addClass("open");jQuery(".boxed .after-product-details > #"+e+" .ic_accordion_content_container").show()}else{ic_open_default_accordion()}}else{ic_open_default_accordion()}jQuery(".ecommerce-product-catalog").off("click",".boxed.responsive .after-product-details .catalog-header");jQuery(".ecommerce-product-catalog").on("click",".boxed.responsive .after-product-details .catalog-header",function(){var e=jQuery(this).offset().top;if(jQuery(this).hasClass("open")){history.pushState({},document.title,window.location.pathname);jQuery(this).removeClass("open");jQuery(this).next(".ic_accordion_content_container").hide()}else{var o=0;var n=0;var r=0;var i=jQuery(window).scrollTop();var t=jQuery(this)[0].getBoundingClientRect().top;jQuery(".boxed.responsive .after-product-details .catalog-header.open").each(function(){var e=jQuery(this).next(".ic_accordion_content_container");var i=e.offset().top;if(r===0){r=i}o=o+e.outerHeight();var t=jQuery(this)[0].getBoundingClientRect().top;if(t>n){n=t}if(!is_element_visible(jQuery(this),true)){e.hide()}else{e.slideUp("fast")}jQuery(this).removeClass("open")});var s=jQuery(this).parent("div").attr("id");window.location.hash=s+"_tab";jQuery(this).next(".ic_accordion_content_container").slideDown();jQuery(this).addClass("open");if(t<o&&n<t||!is_element_visible(jQuery(this),true)){var c=jQuery("html");c.on("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove",function(){c.stop()});var a=i-o;if(t<0){a=e}if(i>o){c.animate({scrollTop:a},0,function(){c.off("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove")})}}}});jQuery(".boxed .after-product-details").addClass("ic_accordion_container")}function ic_open_default_accordion(){jQuery(".boxed .after-product-details > div:first-child .ic_accordion_content_container").show();jQuery(".boxed .after-product-details > div:first-child .catalog-header").addClass("open")}function ic_accordion_initial_hide(){jQuery(".boxed.responsive .after-product-details > div").each(function(){jQuery(this).find(".ic_accordion_content_container").hide();jQuery(this).find(".catalog-header").show()})}function ic_tabs(){jQuery(".boxed .after-product-details").each(function(){var e=jQuery(this);if(!e.hasClass("ic_tabs_container")){e.addClass("ic_tabs_container");var o='<div class="ic_tabs">';e.find("> div").each(function(){var e=jQuery(this);var i=e.attr("id");e.addClass("ic_tab_content");var t=e.find("> h3.catalog-header");if(t.length){o=o+'<h3 data-tab_id="'+i+'"><a href="#'+i+'_tab">'+t.html()+"</a></h3>";t.remove()}});o=o+"</div>";e.prepend(o);if(window.location.hash!==""){var i=window.location.hash.replace("_tab","").replace("#","");var t=e.find('.ic_tabs > h3[data-tab_id="'+i+'"]');if(t.length){ic_enter_tab(i,t)}else{set_default_ic_tab()}}else{set_default_ic_tab()}e.off("click",".ic_tabs > h3");e.on("click",".ic_tabs > h3",function(e){e.preventDefault();var i=jQuery(this).data("tab_id");ic_enter_tab(i,jQuery(this))})}})}function ic_enter_tab(e,i){if(i.length&&!i.hasClass("active")){var t=e+"_tab";if(window.location.hash!=="#"+t){window.location.hash=t}var o=i.closest(".ic_tabs_container");o.find(".boxed .after-product-details .ic_tab_content.active").hide();o.find("#"+e).show();o.find(".ic_tab_content.active").removeClass("active").hide();o.find(".active").removeClass("active");o.find("#"+e).addClass("active").show();i.addClass("active")}}function set_default_ic_tab(){jQuery(".boxed .after-product-details").each(function(){var e=jQuery(this);e.find(".ic_tabs > h3").removeClass("active");e.find("> .ic_tab_content").removeClass("active").hide();e.find(".ic_tabs > h3:first-child").addClass("active");e.find("> .ic_tab_content:first").addClass("active").show()})}function is_element_visible(e,i){if(e.length===0){return false}if(e.length>1){var t=true;e.each(function(){if(!is_element_visible(jQuery(this),i)){t=false}});return t}else{var o=e.offset().top;var n=o+e.outerHeight();var r=jQuery(window).scrollTop();var s=r+jQuery(window).height();if(i===true&&s<n){return false}if(r<o&&s>o){return true}else{return false}}}function responsive_product_catalog(e){if(e===undefined){e=true}var i=jQuery("body").width();if(i<1e3){jQuery(".al_product, .product-list").addClass("responsive");if(e){jQuery.ic.doAction("ic_change_responsive","0")}}else if(i>=1e3){jQuery(".al_product, .product-list").removeClass("responsive");if(e){jQuery.ic.doAction("ic_change_responsive","1")}}}function modern_grid_font_size(){var i=0;jQuery(".modern-grid-element").each(function(){var e=jQuery(this).width();if(e>i){i=e}});var e=i*.08;if(e<16&&e!==0){jQuery(".modern-grid-element h3").css("font-size",e);jQuery(".modern-grid-element .product-price").css("font-size",e);e=e*.8;jQuery(".modern-grid-element .product-attributes table").css("font-size",e)}else{jQuery(".modern-grid-element h3").css("font-size","");jQuery(".modern-grid-element .product-price").css("font-size","");jQuery(".modern-grid-element .product-attributes table").css("font-size","")}}function ic_defaultFor(e,i){return typeof e!=="undefined"?e:i}function ic_responsive_filters_bar(e){e=typeof e!=="undefined"?e:"1";if(e==="0"||jQuery(".product-list").hasClass("responsive")||jQuery(".product-list").hasClass("grouped-filters")){if(jQuery(".responsive-filters").length===0){var i=jQuery(".responsive-filters").html();if(i===undefined&&jQuery("#product_filters_bar .filter-widget").length>0){if(jQuery("#product_filters_bar .filter-widget:not(.ic-empty-filter):not(.widget_product_categories):not(.product_search)").length>0){i='<div class="responsive-filters" style="display: none">';jQuery("#product_filters_bar .filter-widget:not(.ic-empty-filter)").each(function(){if(!jQuery(this).hasClass("product_search")&&!jQuery(this).hasClass("widget_product_categories")){var e=jQuery(this).find("[data-ic_responsive_label]").data("ic_responsive_label");if(!e){e=jQuery(this).find(".filter-label").text()}if(!e){e=jQuery(this).find("select option:first-child").text()}if(e){i+='<div class="responsive-filters-section">';i+='<div class="responsive-filters-section-title">'+e+"</div>";i+='<div class="responsive-filters-section-content">'+jQuery(this).html()+"</div>";i+="</div>";jQuery(this).hide()}else{jQuery(this).show()}}else{jQuery(this).show()}});i+="</div>";var t='<div class="responsive-filters-button button '+product_object.design_schemes+'">'+product_object.filter_button_label+"</div>";jQuery("#product_filters_bar .clear-both").before(t);jQuery("#product_filters_bar .clear-both").before(i)}}}}else{jQuery(".responsive-filters").hide();jQuery("#product_filters_bar .filter-widget:not(.ic-empty-filter)").show()}}if(typeof implecode.disable_body==="undefined"){implecode.disable_body=function(){jQuery("body").addClass("ic-disabled-body")}}if(typeof implecode.enable_body==="undefined"){implecode.enable_body=function(){jQuery("body").removeClass("ic-disabled-body")}}if(typeof implecode.is_body_disabled==="undefined"){implecode.is_body_disabled=function(){if(jQuery("body").hasClass("ic-disabled-body")){return true}else if(jQuery(".ic-overlay").is(":visible")){return true}else if(jQuery(".ic-overlay-container").is(":visible")){return true}else{return false}}}if(typeof implecode.disable_container==="undefined"){implecode.disable_container=function(e){e.addClass("ic-disabled-container")}}if(typeof implecode.enable_container==="undefined"){implecode.enable_container=function(e){e.removeClass("ic-disabled-container")}}function ic_disable_body(){jQuery("body").addClass("ic-disabled-body")}function ic_enable_body(){jQuery("body").removeClass("ic-disabled-body")}function ic_disabled_body(){if(jQuery("body").hasClass("ic-disabled-body")){return true}else if(jQuery(".ic-overlay").is(":visible")){return true}else if(jQuery(".ic-overlay-container").is(":visible")){return true}else{return false}}function ic_disable_container(e){e.addClass("ic-disabled-container")}function ic_enable_container(e){e.removeClass("ic-disabled-container")}if(typeof implecode.confirm_dialog!=="function"){implecode.confirm_dialog=function(e,i,t,o){jQuery("<div></div>").appendTo("body").html("<div><h6>"+e+"?</h6></div>").dialog({modal:true,title:i,zIndex:1e4,autoOpen:true,width:"auto",resizable:false,buttons:{Yes:function(){if(typeof t==="function"){t()}jQuery(this).dialog("close")},No:function(){if(typeof o==="function"){o()}jQuery(this).dialog("close")}},close:function(){jQuery(this).remove()}})}}