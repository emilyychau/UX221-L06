(function(i){if(typeof define==="function"&&define.amd){define(["jquery"],function(t){return i(t,document,window,navigator)})}else if(typeof exports==="object"){i(require("jquery"),document,window,navigator)}else{i(jQuery,document,window,navigator)}})(function(n,l,c,e,_){"use strict";var i=0;var o=function(){var t=e.userAgent,i=/msie\s\d+/i,s;if(t.search(i)>0){s=i.exec(t).toString();s=s.split(" ")[1];if(s<9){n("html").addClass("lt-ie9");return true}}return false}();if(!Function.prototype.bind){Function.prototype.bind=function t(e){var o=this;var r=[].slice;if(typeof o!="function"){throw new TypeError}var h=r.call(arguments,1),a=function(){if(this instanceof a){var t=function(){};t.prototype=o.prototype;var i=new t;var s=o.apply(i,h.concat(r.call(arguments)));if(Object(s)===s){return s}return i}else{return o.apply(e,h.concat(r.call(arguments)))}};return a}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(t,i){var s;if(this==null){throw new TypeError('"this" is null or not defined')}var e=Object(this);var o=e.length>>>0;if(o===0){return-1}var r=+i||0;if(Math.abs(r)===Infinity){r=0}if(r>=o){return-1}s=Math.max(r>=0?r:o-Math.abs(r),0);while(s<o){if(s in e&&e[s]===t){return s}s++}return-1}}var s='<span class="irs">'+'<span class="irs-line" tabindex="0"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span>'+'<span class="irs-min">0</span><span class="irs-max">1</span>'+'<span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span>'+"</span>"+'<span class="irs-grid"></span>'+'<span class="irs-bar"></span>';var r='<span class="irs-bar-edge"></span>'+'<span class="irs-shadow shadow-single"></span>'+'<span class="irs-slider single"></span>';var h='<span class="irs-shadow shadow-from"></span>'+'<span class="irs-shadow shadow-to"></span>'+'<span class="irs-slider from"></span>'+'<span class="irs-slider to"></span>';var t='<span class="irs-disable-mask"></span>';var a=function(t,i,s){this.VERSION="2.2.0";this.input=t;this.plugin_count=s;this.current_plugin=0;this.calc_count=0;this.update_tm=0;this.old_from=0;this.old_to=0;this.old_min_interval=null;this.raf_id=null;this.dragging=false;this.force_redraw=false;this.no_diapason=false;this.has_tab_index=true;this.is_key=false;this.is_update=false;this.is_start=true;this.is_finish=false;this.is_active=false;this.is_resize=false;this.is_click=false;i=i||{};this.$cache={win:n(c),body:n(l.body),input:n(t),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]};this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]};this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};var e=this.$cache.input,o=e.prop("value"),r,h,a;r={type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:false,values:[],p_values:[],from_fixed:false,from_min:null,from_max:null,from_shadow:false,to_fixed:false,to_min:null,to_max:null,to_shadow:false,prettify_enabled:true,prettify_separator:" ",prettify:null,force_edges:false,keyboard:true,grid:false,grid_margin:true,grid_num:4,grid_snap:false,hide_min_max:false,hide_from_to:false,prefix:"",postfix:"",max_postfix:"",decorate_both:true,values_separator:" â€” ",input_values_separator:";",disable:false,block:false,extra_classes:"",scope:null,onStart:null,onChange:null,onFinish:null,onUpdate:null};if(e[0].nodeName!=="INPUT"){console&&console.warn&&console.warn("Base element should be <input>!",e[0])}h={type:e.data("type"),min:e.data("min"),max:e.data("max"),from:e.data("from"),to:e.data("to"),step:e.data("step"),min_interval:e.data("minInterval"),max_interval:e.data("maxInterval"),drag_interval:e.data("dragInterval"),values:e.data("values"),from_fixed:e.data("fromFixed"),from_min:e.data("fromMin"),from_max:e.data("fromMax"),from_shadow:e.data("fromShadow"),to_fixed:e.data("toFixed"),to_min:e.data("toMin"),to_max:e.data("toMax"),to_shadow:e.data("toShadow"),prettify_enabled:e.data("prettifyEnabled"),prettify_separator:e.data("prettifySeparator"),force_edges:e.data("forceEdges"),keyboard:e.data("keyboard"),grid:e.data("grid"),grid_margin:e.data("gridMargin"),grid_num:e.data("gridNum"),grid_snap:e.data("gridSnap"),hide_min_max:e.data("hideMinMax"),hide_from_to:e.data("hideFromTo"),prefix:e.data("prefix"),postfix:e.data("postfix"),max_postfix:e.data("maxPostfix"),decorate_both:e.data("decorateBoth"),values_separator:e.data("valuesSeparator"),input_values_separator:e.data("inputValuesSeparator"),disable:e.data("disable"),block:e.data("block"),extra_classes:e.data("extraClasses")};h.values=h.values&&h.values.split(",");for(a in h){if(h.hasOwnProperty(a)){if(h[a]===_||h[a]===""){delete h[a]}}}if(o!==_&&o!==""){o=o.split(h.input_values_separator||i.input_values_separator||";");if(o[0]&&o[0]==+o[0]){o[0]=+o[0]}if(o[1]&&o[1]==+o[1]){o[1]=+o[1]}if(i&&i.values&&i.values.length){r.from=o[0]&&i.values.indexOf(o[0]);r.to=o[1]&&i.values.indexOf(o[1])}else{r.from=o[0]&&+o[0];r.to=o[1]&&+o[1]}}n.extend(r,i);n.extend(r,h);this.options=r;this.update_check={};this.validate();this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null};this.init()};a.prototype={init:function(t){this.no_diapason=false;this.coords.p_step=this.convertToPercent(this.options.step,true);this.target="base";this.toggleInput();this.append();this.setMinMax();if(t){this.force_redraw=true;this.calc(true);this.callOnUpdate()}else{this.force_redraw=true;this.calc(true);this.callOnStart()}this.updateScene()},append:function(){var t='<span class="irs js-irs-'+this.plugin_count+" "+this.options.extra_classes+'"></span>';this.$cache.input.before(t);this.$cache.input.prop("readonly",true);this.$cache.cont=this.$cache.input.prev();this.result.slider=this.$cache.cont;this.$cache.cont.html(s);this.$cache.rs=this.$cache.cont.find(".irs");this.$cache.min=this.$cache.cont.find(".irs-min");this.$cache.max=this.$cache.cont.find(".irs-max");this.$cache.from=this.$cache.cont.find(".irs-from");this.$cache.to=this.$cache.cont.find(".irs-to");this.$cache.single=this.$cache.cont.find(".irs-single");this.$cache.bar=this.$cache.cont.find(".irs-bar");this.$cache.line=this.$cache.cont.find(".irs-line");this.$cache.grid=this.$cache.cont.find(".irs-grid");if(this.options.type==="single"){this.$cache.cont.append(r);this.$cache.edge=this.$cache.cont.find(".irs-bar-edge");this.$cache.s_single=this.$cache.cont.find(".single");this.$cache.from[0].style.visibility="hidden";this.$cache.to[0].style.visibility="hidden";this.$cache.shad_single=this.$cache.cont.find(".shadow-single")}else{this.$cache.cont.append(h);this.$cache.s_from=this.$cache.cont.find(".from");this.$cache.s_to=this.$cache.cont.find(".to");this.$cache.shad_from=this.$cache.cont.find(".shadow-from");this.$cache.shad_to=this.$cache.cont.find(".shadow-to");this.setTopHandler()}if(this.options.hide_from_to){this.$cache.from[0].style.display="none";this.$cache.to[0].style.display="none";this.$cache.single[0].style.display="none"}this.appendGrid();if(this.options.disable){this.appendDisableMask();this.$cache.input[0].disabled=true}else{this.$cache.input[0].disabled=false;this.removeDisableMask();this.bindEvents()}if(!this.options.disable){if(this.options.block){this.appendDisableMask()}else{this.removeDisableMask()}}if(this.options.drag_interval){this.$cache.bar[0].style.cursor="ew-resize"}},setTopHandler:function(){var t=this.options.min,i=this.options.max,s=this.options.from,e=this.options.to;if(s>t&&e===i){this.$cache.s_from.addClass("type_last")}else if(e<i){this.$cache.s_to.addClass("type_last")}},changeLevel:function(t){switch(t){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake);this.$cache.s_single.addClass("state_hover");break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake);this.$cache.s_from.addClass("state_hover");this.$cache.s_from.addClass("type_last");this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake);this.$cache.s_to.addClass("state_hover");this.$cache.s_to.addClass("type_last");this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake);this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-this.coords.p_pointer);this.$cache.s_to.removeClass("type_last");this.$cache.s_from.removeClass("type_last");break}},appendDisableMask:function(){this.$cache.cont.append(t);this.$cache.cont.addClass("irs-disabled")},removeDisableMask:function(){this.$cache.cont.remove(".irs-disable-mask");this.$cache.cont.removeClass("irs-disabled")},remove:function(){this.$cache.cont.remove();this.$cache.cont=null;this.$cache.line.off("keydown.irs_"+this.plugin_count);this.$cache.body.off("touchmove.irs_"+this.plugin_count);this.$cache.body.off("mousemove.irs_"+this.plugin_count);this.$cache.win.off("touchend.irs_"+this.plugin_count);this.$cache.win.off("mouseup.irs_"+this.plugin_count);if(o){this.$cache.body.off("mouseup.irs_"+this.plugin_count);this.$cache.body.off("mouseleave.irs_"+this.plugin_count)}this.$cache.grid_labels=[];this.coords.big=[];this.coords.big_w=[];this.coords.big_p=[];this.coords.big_x=[];cancelAnimationFrame(this.raf_id)},bindEvents:function(){if(this.no_diapason){return}this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this));this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this));this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this));this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this));this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.line.on("focus.irs_"+this.plugin_count,this.pointerFocus.bind(this));if(this.options.drag_interval&&this.options.type==="double"){this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"));this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))}else{this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))}if(this.options.type==="single"){this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single"));this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single"));this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single"));this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single"));this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))}else{this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,null));this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,null));this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from"));this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from"));this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to"));this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to"));this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from"));this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from"));this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to"));this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to"));this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))}if(this.options.keyboard){this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard"))}if(o){this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this));this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))}},pointerFocus:function(t){if(!this.target){var i;var s;if(this.options.type==="single"){s=this.$cache.single}else{s=this.$cache.from}i=s.offset().left;i+=s.width()/2-1;this.pointerClick("single",{preventDefault:function(){},pageX:i})}},pointerMove:function(t){if(!this.dragging){return}var i=t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX;this.coords.x_pointer=i-this.coords.x_gap;this.calc()},pointerUp:function(t){if(this.current_plugin!==this.plugin_count){return}if(this.is_active){this.is_active=false}else{return}this.$cache.cont.find(".state_hover").removeClass("state_hover");this.force_redraw=true;if(o){n("*").prop("unselectable",false)}this.updateScene();this.restoreOriginalMinInterval();if(n.contains(this.$cache.cont[0],t.target)||this.dragging){this.callOnFinish()}this.dragging=false},pointerDown:function(t,i){i.preventDefault();var s=i.pageX||i.originalEvent.touches&&i.originalEvent.touches[0].pageX;if(i.button===2){return}if(t==="both"){this.setTempMinInterval()}if(!t){t=this.target||"from"}this.current_plugin=this.plugin_count;this.target=t;this.is_active=true;this.dragging=true;this.coords.x_gap=this.$cache.rs.offset().left;this.coords.x_pointer=s-this.coords.x_gap;this.calcPointerPercent();this.changeLevel(t);if(o){n("*").prop("unselectable",true)}this.$cache.line.trigger("focus");this.updateScene()},pointerClick:function(t,i){i.preventDefault();var s=i.pageX||i.originalEvent.touches&&i.originalEvent.touches[0].pageX;if(i.button===2){return}this.current_plugin=this.plugin_count;this.target=t;this.is_click=true;this.coords.x_gap=this.$cache.rs.offset().left;this.coords.x_pointer=+(s-this.coords.x_gap).toFixed();this.force_redraw=true;this.calc();this.$cache.line.trigger("focus")},key:function(t,i){if(this.current_plugin!==this.plugin_count||i.altKey||i.ctrlKey||i.shiftKey||i.metaKey){return}switch(i.which){case 83:case 65:case 40:case 37:i.preventDefault();this.moveByKey(false);break;case 87:case 68:case 38:case 39:i.preventDefault();this.moveByKey(true);break}return true},moveByKey:function(t){var i=this.coords.p_pointer;var s=(this.options.max-this.options.min)/100;s=this.options.step/s;if(t){i+=s}else{i-=s}this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*i);this.is_key=true;this.calc()},setMinMax:function(){if(!this.options){return}if(this.options.hide_min_max){this.$cache.min[0].style.display="none";this.$cache.max[0].style.display="none";return}if(this.options.values.length){this.$cache.min.html(this.decorate(this.options.p_values[this.options.min]));this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]))}else{var t=this._prettify(this.options.min);var i=this._prettify(this.options.max);this.result.min_pretty=t;this.result.max_pretty=i;this.$cache.min.html(this.decorate(t,this.options.min));this.$cache.max.html(this.decorate(i,this.options.max))}this.labels.w_min=this.$cache.min.outerWidth(false);this.labels.w_max=this.$cache.max.outerWidth(false)},setTempMinInterval:function(){var t=this.result.to-this.result.from;if(this.old_min_interval===null){this.old_min_interval=this.options.min_interval}this.options.min_interval=t},restoreOriginalMinInterval:function(){if(this.old_min_interval!==null){this.options.min_interval=this.old_min_interval;this.old_min_interval=null}},calc:function(t){if(!this.options){return}this.calc_count++;if(this.calc_count===10||t){this.calc_count=0;this.coords.w_rs=this.$cache.rs.outerWidth(false);this.calcHandlePercent()}if(!this.coords.w_rs){return}this.calcPointerPercent();var i=this.getHandleX();if(this.target==="both"){this.coords.p_gap=0;i=this.getHandleX()}if(this.target==="click"){this.coords.p_gap=this.coords.p_handle/2;i=this.getHandleX();if(this.options.drag_interval){this.target="both_one"}else{this.target=this.chooseHandle(i)}}switch(this.target){case"base":var s=(this.options.max-this.options.min)/100,e=(this.result.from-this.options.min)/s,o=(this.result.to-this.options.min)/s;this.coords.p_single_real=this.toFixed(e);this.coords.p_from_real=this.toFixed(e);this.coords.p_to_real=this.toFixed(o);this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);this.target=null;break;case"single":if(this.options.from_fixed){break}this.coords.p_single_real=this.convertToRealPercent(i);this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real);this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max);this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case"from":if(this.options.from_fixed){break}this.coords.p_from_real=this.convertToRealPercent(i);this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real);if(this.coords.p_from_real>this.coords.p_to_real){this.coords.p_from_real=this.coords.p_to_real}this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case"to":if(this.options.to_fixed){break}this.coords.p_to_real=this.convertToRealPercent(i);this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real);if(this.coords.p_to_real<this.coords.p_from_real){this.coords.p_to_real=this.coords.p_from_real}this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both":if(this.options.from_fixed||this.options.to_fixed){break}i=this.toFixed(i+this.coords.p_handle*.001);this.coords.p_from_real=this.convertToRealPercent(i)-this.coords.p_gap_left;this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);this.coords.p_to_real=this.convertToRealPercent(i)+this.coords.p_gap_right;this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both_one":if(this.options.from_fixed||this.options.to_fixed){break}var r=this.convertToRealPercent(i),h=this.result.from_percent,a=this.result.to_percent,n=a-h,l=n/2,c=r-l,_=r+l;if(c<0){c=0;_=c+n}if(_>100){_=100;c=_-n}this.coords.p_from_real=this.calcWithStep(c);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);this.coords.p_to_real=this.calcWithStep(_);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break}if(this.options.type==="single"){this.coords.p_bar_x=this.coords.p_handle/2;this.coords.p_bar_w=this.coords.p_single_fake;this.result.from_percent=this.coords.p_single_real;this.result.from=this.convertToValue(this.coords.p_single_real);this.result.from_pretty=this._prettify(this.result.from);if(this.options.values.length){this.result.from_value=this.options.values[this.result.from]}}else{this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2);this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake);this.result.from_percent=this.coords.p_from_real;this.result.from=this.convertToValue(this.coords.p_from_real);this.result.from_pretty=this._prettify(this.result.from);this.result.to_percent=this.coords.p_to_real;this.result.to=this.convertToValue(this.coords.p_to_real);this.result.to_pretty=this._prettify(this.result.to);if(this.options.values.length){this.result.from_value=this.options.values[this.result.from];this.result.to_value=this.options.values[this.result.to]}}this.calcMinMax();this.calcLabels()},calcPointerPercent:function(){if(!this.coords.w_rs){this.coords.p_pointer=0;return}if(this.coords.x_pointer<0||isNaN(this.coords.x_pointer)){this.coords.x_pointer=0}else if(this.coords.x_pointer>this.coords.w_rs){this.coords.x_pointer=this.coords.w_rs}this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)},convertToRealPercent:function(t){var i=100-this.coords.p_handle;return t/i*100},convertToFakePercent:function(t){var i=100-this.coords.p_handle;return t/100*i},getHandleX:function(){var t=100-this.coords.p_handle,i=this.toFixed(this.coords.p_pointer-this.coords.p_gap);if(i<0){i=0}else if(i>t){i=t}return i},calcHandlePercent:function(){if(this.options.type==="single"){this.coords.w_handle=this.$cache.s_single.outerWidth(false)}else{this.coords.w_handle=this.$cache.s_from.outerWidth(false)}this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(t){if(this.options.type==="single"){return"single"}else{var i=this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2;if(t>=i){return this.options.to_fixed?"from":"to"}else{return this.options.from_fixed?"to":"from"}}},calcMinMax:function(){if(!this.coords.w_rs){return}this.labels.p_min=this.labels.w_min/this.coords.w_rs*100;this.labels.p_max=this.labels.w_max/this.coords.w_rs*100},calcLabels:function(){if(!this.coords.w_rs||this.options.hide_from_to){return}if(this.options.type==="single"){this.labels.w_single=this.$cache.single.outerWidth(false);this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100;this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/2-this.labels.p_single_fake/2;this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake)}else{this.labels.w_from=this.$cache.from.outerWidth(false);this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100;this.labels.p_from_left=this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2;this.labels.p_from_left=this.toFixed(this.labels.p_from_left);this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake);this.labels.w_to=this.$cache.to.outerWidth(false);this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100;this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2;this.labels.p_to_left=this.toFixed(this.labels.p_to_left);this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake);this.labels.w_single=this.$cache.single.outerWidth(false);this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100;this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2;this.labels.p_single_left=this.toFixed(this.labels.p_single_left);this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake)}},updateScene:function(){if(this.raf_id){cancelAnimationFrame(this.raf_id);this.raf_id=null}clearTimeout(this.update_tm);this.update_tm=null;if(!this.options){return}this.drawHandles();if(this.is_active){this.raf_id=requestAnimationFrame(this.updateScene.bind(this))}else{this.update_tm=setTimeout(this.updateScene.bind(this),300)}},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(false);if(!this.coords.w_rs){return}if(this.coords.w_rs!==this.coords.w_rs_old){this.target="base";this.is_resize=true}if(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw){this.setMinMax();this.calc(true);this.drawLabels();if(this.options.grid){this.calcGridMargin();this.calcGridLabels()}this.force_redraw=true;this.coords.w_rs_old=this.coords.w_rs;this.drawShadow()}if(!this.coords.w_rs){return}if(!this.dragging&&!this.force_redraw&&!this.is_key){return}if(this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key){this.drawLabels();this.$cache.bar[0].style.left=this.coords.p_bar_x+"%";this.$cache.bar[0].style.width=this.coords.p_bar_w+"%";if(this.options.type==="single"){this.$cache.s_single[0].style.left=this.coords.p_single_fake+"%";this.$cache.single[0].style.left=this.labels.p_single_left+"%"}else{this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%";this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%";if(this.old_from!==this.result.from||this.force_redraw){this.$cache.from[0].style.left=this.labels.p_from_left+"%"}if(this.old_to!==this.result.to||this.force_redraw){this.$cache.to[0].style.left=this.labels.p_to_left+"%"}this.$cache.single[0].style.left=this.labels.p_single_left+"%"}this.writeToInput();if((this.old_from!==this.result.from||this.old_to!==this.result.to)&&!this.is_start){this.$cache.input.trigger("change");this.$cache.input.trigger("input")}this.old_from=this.result.from;this.old_to=this.result.to;if(!this.is_resize&&!this.is_update&&!this.is_start&&!this.is_finish){this.callOnChange()}if(this.is_key||this.is_click){this.is_key=false;this.is_click=false;this.callOnFinish()}this.is_update=false;this.is_resize=false;this.is_finish=false}this.is_start=false;this.is_key=false;this.is_click=false;this.force_redraw=false},drawLabels:function(){if(!this.options){return}var t=this.options.values.length;var i=this.options.p_values;var s;var e;var o;var r;var h;if(this.options.hide_from_to){return}if(this.options.type==="single"){if(t){s=this.decorate(i[this.result.from]);this.$cache.single.html(s)}else{r=this._prettify(this.result.from);s=this.decorate(r,this.result.from);this.$cache.single.html(s)}this.calcLabels();if(this.labels.p_single_left<this.labels.p_min+1){this.$cache.min[0].style.visibility="hidden"}else{this.$cache.min[0].style.visibility="visible"}if(this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1){this.$cache.max[0].style.visibility="hidden"}else{this.$cache.max[0].style.visibility="visible"}}else{if(t){if(this.options.decorate_both){s=this.decorate(i[this.result.from]);s+=this.options.values_separator;s+=this.decorate(i[this.result.to])}else{s=this.decorate(i[this.result.from]+this.options.values_separator+i[this.result.to])}e=this.decorate(i[this.result.from]);o=this.decorate(i[this.result.to]);this.$cache.single.html(s);this.$cache.from.html(e);this.$cache.to.html(o)}else{r=this._prettify(this.result.from);h=this._prettify(this.result.to);if(this.options.decorate_both){s=this.decorate(r,this.result.from);s+=this.options.values_separator;s+=this.decorate(h,this.result.to)}else{s=this.decorate(r+this.options.values_separator+h,this.result.to)}e=this.decorate(r,this.result.from);o=this.decorate(h,this.result.to);this.$cache.single.html(s);this.$cache.from.html(e);this.$cache.to.html(o)}this.calcLabels();var a=Math.min(this.labels.p_single_left,this.labels.p_from_left),n=this.labels.p_single_left+this.labels.p_single_fake,l=this.labels.p_to_left+this.labels.p_to_fake,c=Math.max(n,l);if(this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left){this.$cache.from[0].style.visibility="hidden";this.$cache.to[0].style.visibility="hidden";this.$cache.single[0].style.visibility="visible";if(this.result.from===this.result.to){if(this.target==="from"){this.$cache.from[0].style.visibility="visible"}else if(this.target==="to"){this.$cache.to[0].style.visibility="visible"}else if(!this.target){this.$cache.from[0].style.visibility="visible"}this.$cache.single[0].style.visibility="hidden";c=l}else{this.$cache.from[0].style.visibility="hidden";this.$cache.to[0].style.visibility="hidden";this.$cache.single[0].style.visibility="visible";c=Math.max(n,l)}}else{this.$cache.from[0].style.visibility="visible";this.$cache.to[0].style.visibility="visible";this.$cache.single[0].style.visibility="hidden"}if(a<this.labels.p_min+1){this.$cache.min[0].style.visibility="hidden"}else{this.$cache.min[0].style.visibility="visible"}if(c>100-this.labels.p_max-1){this.$cache.max[0].style.visibility="hidden"}else{this.$cache.max[0].style.visibility="visible"}}},drawShadow:function(){var t=this.options,i=this.$cache,s=typeof t.from_min==="number"&&!isNaN(t.from_min),e=typeof t.from_max==="number"&&!isNaN(t.from_max),o=typeof t.to_min==="number"&&!isNaN(t.to_min),r=typeof t.to_max==="number"&&!isNaN(t.to_max),h,a,n,l;if(t.type==="single"){if(t.from_shadow&&(s||e)){h=this.convertToPercent(s?t.from_min:t.min);a=this.convertToPercent(e?t.from_max:t.max)-h;h=this.toFixed(h-this.coords.p_handle/100*h);a=this.toFixed(a-this.coords.p_handle/100*a);h=h+this.coords.p_handle/2;i.shad_single[0].style.display="block";i.shad_single[0].style.left=h+"%";i.shad_single[0].style.width=a+"%"}else{i.shad_single[0].style.display="none"}}else{if(t.from_shadow&&(s||e)){h=this.convertToPercent(s?t.from_min:t.min);a=this.convertToPercent(e?t.from_max:t.max)-h;h=this.toFixed(h-this.coords.p_handle/100*h);a=this.toFixed(a-this.coords.p_handle/100*a);h=h+this.coords.p_handle/2;i.shad_from[0].style.display="block";i.shad_from[0].style.left=h+"%";i.shad_from[0].style.width=a+"%"}else{i.shad_from[0].style.display="none"}if(t.to_shadow&&(o||r)){n=this.convertToPercent(o?t.to_min:t.min);l=this.convertToPercent(r?t.to_max:t.max)-n;n=this.toFixed(n-this.coords.p_handle/100*n);l=this.toFixed(l-this.coords.p_handle/100*l);n=n+this.coords.p_handle/2;i.shad_to[0].style.display="block";i.shad_to[0].style.left=n+"%";i.shad_to[0].style.width=l+"%"}else{i.shad_to[0].style.display="none"}}},writeToInput:function(){if(this.options.type==="single"){if(this.options.values.length){this.$cache.input.prop("value",this.result.from_value)}else{this.$cache.input.prop("value",this.result.from)}this.$cache.input.data("from",this.result.from)}else{if(this.options.values.length){this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value)}else{this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to)}this.$cache.input.data("from",this.result.from);this.$cache.input.data("to",this.result.to)}},callOnStart:function(){this.writeToInput();if(this.options.onStart&&typeof this.options.onStart==="function"){if(this.options.scope){this.options.onStart.call(this.options.scope,this.result)}else{this.options.onStart(this.result)}}},callOnChange:function(){this.writeToInput();if(this.options.onChange&&typeof this.options.onChange==="function"){if(this.options.scope){this.options.onChange.call(this.options.scope,this.result)}else{this.options.onChange(this.result)}}},callOnFinish:function(){this.writeToInput();if(this.options.onFinish&&typeof this.options.onFinish==="function"){if(this.options.scope){this.options.onFinish.call(this.options.scope,this.result)}else{this.options.onFinish(this.result)}}},callOnUpdate:function(){this.writeToInput();if(this.options.onUpdate&&typeof this.options.onUpdate==="function"){if(this.options.scope){this.options.onUpdate.call(this.options.scope,this.result)}else{this.options.onUpdate(this.result)}}},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input");if(this.has_tab_index){this.$cache.input.prop("tabindex",-1)}else{this.$cache.input.removeProp("tabindex")}this.has_tab_index=!this.has_tab_index},convertToPercent:function(t,i){var s=this.options.max-this.options.min,e=s/100,o,r;if(!s){this.no_diapason=true;return 0}if(i){o=t}else{o=t-this.options.min}r=o/e;return this.toFixed(r)},convertToValue:function(t){var i=this.options.min,s=this.options.max,e=i.toString().split(".")[1],o=s.toString().split(".")[1],r,h,a=0,n=0;if(t===0){return this.options.min}if(t===100){return this.options.max}if(e){r=e.length;a=r}if(o){h=o.length;a=h}if(r&&h){a=r>=h?r:h}if(i<0){n=Math.abs(i);i=+(i+n).toFixed(a);s=+(s+n).toFixed(a)}var l=(s-i)/100*t+i,c=this.options.step.toString().split(".")[1],_;if(c){l=+l.toFixed(c.length)}else{l=l/this.options.step;l=l*this.options.step;l=+l.toFixed(0)}if(n){l-=n}if(c){_=+l.toFixed(c.length)}else{_=this.toFixed(l)}if(_<this.options.min){_=this.options.min}else if(_>this.options.max){_=this.options.max}return _},calcWithStep:function(t){var i=Math.round(t/this.coords.p_step)*this.coords.p_step;if(i>100){i=100}if(t===100){i=100}return this.toFixed(i)},checkMinInterval:function(t,i,s){var e=this.options,o,r;if(!e.min_interval){return t}o=this.convertToValue(t);r=this.convertToValue(i);if(s==="from"){if(r-o<e.min_interval){o=r-e.min_interval}}else{if(o-r<e.min_interval){o=r+e.min_interval}}return this.convertToPercent(o)},checkMaxInterval:function(t,i,s){var e=this.options,o,r;if(!e.max_interval){return t}o=this.convertToValue(t);r=this.convertToValue(i);if(s==="from"){if(r-o>e.max_interval){o=r-e.max_interval}}else{if(o-r>e.max_interval){o=r+e.max_interval}}return this.convertToPercent(o)},checkDiapason:function(t,i,s){var e=this.convertToValue(t),o=this.options;if(typeof i!=="number"){i=o.min}if(typeof s!=="number"){s=o.max}if(e<i){e=i}if(e>s){e=s}return this.convertToPercent(e)},toFixed:function(t){t=t.toFixed(20);return+t},_prettify:function(t){if(!this.options.prettify_enabled){return t}if(this.options.prettify&&typeof this.options.prettify==="function"){return this.options.prettify(t)}else{return this.prettify(t)}},prettify:function(t){var i=t.toString();return i.replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(t,i){if(!this.options.force_edges){return this.toFixed(t)}if(t<0){t=0}else if(t>100-i){t=100-i}return this.toFixed(t)},validate:function(){var t=this.options,i=this.result,s=t.values,e=s.length,o,r;if(typeof t.min==="string")t.min=+t.min;if(typeof t.max==="string")t.max=+t.max;if(typeof t.from==="string")t.from=+t.from;if(typeof t.to==="string")t.to=+t.to;if(typeof t.step==="string")t.step=+t.step;if(typeof t.from_min==="string")t.from_min=+t.from_min;if(typeof t.from_max==="string")t.from_max=+t.from_max;if(typeof t.to_min==="string")t.to_min=+t.to_min;if(typeof t.to_max==="string")t.to_max=+t.to_max;if(typeof t.grid_num==="string")t.grid_num=+t.grid_num;if(t.max<t.min){t.max=t.min}if(e){t.p_values=[];t.min=0;t.max=e-1;t.step=1;t.grid_num=t.max;t.grid_snap=true;for(r=0;r<e;r++){o=+s[r];if(!isNaN(o)){s[r]=o;o=this._prettify(o)}else{o=s[r]}t.p_values.push(o)}}if(typeof t.from!=="number"||isNaN(t.from)){t.from=t.min}if(typeof t.to!=="number"||isNaN(t.to)){t.to=t.max}if(t.type==="single"){if(t.from<t.min)t.from=t.min;if(t.from>t.max)t.from=t.max}else{if(t.from<t.min)t.from=t.min;if(t.from>t.max)t.from=t.max;if(t.to<t.min)t.to=t.min;if(t.to>t.max)t.to=t.max;if(this.update_check.from){if(this.update_check.from!==t.from){if(t.from>t.to)t.from=t.to}if(this.update_check.to!==t.to){if(t.to<t.from)t.to=t.from}}if(t.from>t.to)t.from=t.to;if(t.to<t.from)t.to=t.from}if(typeof t.step!=="number"||isNaN(t.step)||!t.step||t.step<0){t.step=1}if(typeof t.from_min==="number"&&t.from<t.from_min){t.from=t.from_min}if(typeof t.from_max==="number"&&t.from>t.from_max){t.from=t.from_max}if(typeof t.to_min==="number"&&t.to<t.to_min){t.to=t.to_min}if(typeof t.to_max==="number"&&t.from>t.to_max){t.to=t.to_max}if(i){if(i.min!==t.min){i.min=t.min}if(i.max!==t.max){i.max=t.max}if(i.from<i.min||i.from>i.max){i.from=t.from}if(i.to<i.min||i.to>i.max){i.to=t.to}}if(typeof t.min_interval!=="number"||isNaN(t.min_interval)||!t.min_interval||t.min_interval<0){t.min_interval=0}if(typeof t.max_interval!=="number"||isNaN(t.max_interval)||!t.max_interval||t.max_interval<0){t.max_interval=0}if(t.min_interval&&t.min_interval>t.max-t.min){t.min_interval=t.max-t.min}if(t.max_interval&&t.max_interval>t.max-t.min){t.max_interval=t.max-t.min}},decorate:function(t,i){var s="",e=this.options;if(e.prefix){s+=e.prefix}s+=t;if(e.max_postfix){if(e.values.length&&t===e.p_values[e.max]){s+=e.max_postfix;if(e.postfix){s+=" "}}else if(i===e.max){s+=e.max_postfix;if(e.postfix){s+=" "}}}if(e.postfix){s+=e.postfix}return s},updateFrom:function(){this.result.from=this.options.from;this.result.from_percent=this.convertToPercent(this.result.from);this.result.from_pretty=this._prettify(this.result.from);if(this.options.values){this.result.from_value=this.options.values[this.result.from]}},updateTo:function(){this.result.to=this.options.to;this.result.to_percent=this.convertToPercent(this.result.to);this.result.to_pretty=this._prettify(this.result.to);if(this.options.values){this.result.to_value=this.options.values[this.result.to]}},updateResult:function(){this.result.min=this.options.min;this.result.max=this.options.max;this.updateFrom();this.updateTo()},appendGrid:function(){if(!this.options.grid){return}var t=this.options,i,s,e=t.max-t.min,o=t.grid_num,r=0,h=0,a=4,n,l,c=0,_,p="";this.calcGridMargin();if(t.grid_snap){if(e>50){o=50/t.step;r=this.toFixed(t.step/.5)}else{o=e/t.step;r=this.toFixed(t.step/(e/100))}}else{r=this.toFixed(100/o)}if(o>4){a=3}if(o>7){a=2}if(o>14){a=1}if(o>28){a=0}for(i=0;i<o+1;i++){n=a;h=this.toFixed(r*i);if(h>100){h=100}this.coords.big[i]=h;l=(h-r*(i-1))/(n+1);for(s=1;s<=n;s++){if(h===0){break}c=this.toFixed(h-l*s);p+='<span class="irs-grid-pol small" style="left: '+c+'%"></span>'}p+='<span class="irs-grid-pol" style="left: '+h+'%"></span>';_=this.convertToValue(h);if(t.values.length){_=t.p_values[_]}else{_=this._prettify(_)}p+='<span class="irs-grid-text js-grid-text-'+i+'" style="left: '+h+'%">'+_+"</span>"}this.coords.big_num=Math.ceil(o+1);this.$cache.cont.addClass("irs-with-grid");this.$cache.grid.html(p);this.cacheGridLabels()},cacheGridLabels:function(){var t,i,s=this.coords.big_num;for(i=0;i<s;i++){t=this.$cache.grid.find(".js-grid-text-"+i);this.$cache.grid_labels.push(t)}this.calcGridLabels()},calcGridLabels:function(){var t,i,s=[],e=[],o=this.coords.big_num;for(t=0;t<o;t++){this.coords.big_w[t]=this.$cache.grid_labels[t].outerWidth(false);this.coords.big_p[t]=this.toFixed(this.coords.big_w[t]/this.coords.w_rs*100);this.coords.big_x[t]=this.toFixed(this.coords.big_p[t]/2);s[t]=this.toFixed(this.coords.big[t]-this.coords.big_x[t]);e[t]=this.toFixed(s[t]+this.coords.big_p[t])}if(this.options.force_edges){if(s[0]<-this.coords.grid_gap){s[0]=-this.coords.grid_gap;e[0]=this.toFixed(s[0]+this.coords.big_p[0]);this.coords.big_x[0]=this.coords.grid_gap}if(e[o-1]>100+this.coords.grid_gap){e[o-1]=100+this.coords.grid_gap;s[o-1]=this.toFixed(e[o-1]-this.coords.big_p[o-1]);this.coords.big_x[o-1]=this.toFixed(this.coords.big_p[o-1]-this.coords.grid_gap)}}this.calcGridCollision(2,s,e);this.calcGridCollision(4,s,e);for(t=0;t<o;t++){i=this.$cache.grid_labels[t][0];if(this.coords.big_x[t]!==Number.POSITIVE_INFINITY){i.style.marginLeft=-this.coords.big_x[t]+"%"}}},calcGridCollision:function(t,i,s){var e,o,r,h=this.coords.big_num;for(e=0;e<h;e+=t){o=e+t/2;if(o>=h){break}r=this.$cache.grid_labels[o][0];if(s[e]<=i[o]){r.style.visibility="visible"}else{r.style.visibility="hidden"}}},calcGridMargin:function(){if(!this.options.grid_margin){return}this.coords.w_rs=this.$cache.rs.outerWidth(false);if(!this.coords.w_rs){return}if(this.options.type==="single"){this.coords.w_handle=this.$cache.s_single.outerWidth(false)}else{this.coords.w_handle=this.$cache.s_from.outerWidth(false)}this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100);this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1);this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%";this.$cache.grid[0].style.left=this.coords.grid_gap+"%"},update:function(t){if(!this.input){return}this.is_update=true;this.options.from=this.result.from;this.options.to=this.result.to;this.update_check.from=this.result.from;this.update_check.to=this.result.to;this.options=n.extend(this.options,t);this.validate();this.updateResult(t);this.toggleInput();this.remove();this.init(true)},reset:function(){if(!this.input){return}this.updateResult();this.update()},destroy:function(){if(!this.input){return}this.toggleInput();this.$cache.input.prop("readonly",false);n.data(this.input,"ionRangeSlider",null);this.remove();this.input=null;this.options=null}};n.fn.ionRangeSlider=function(t){return this.each(function(){if(!n.data(this,"ionRangeSlider")){n.data(this,"ionRangeSlider",new a(this,t,i++))}})};(function(){var r=0;var t=["ms","moz","webkit","o"];for(var i=0;i<t.length&&!c.requestAnimationFrame;++i){c.requestAnimationFrame=c[t[i]+"RequestAnimationFrame"];c.cancelAnimationFrame=c[t[i]+"CancelAnimationFrame"]||c[t[i]+"CancelRequestAnimationFrame"]}if(!c.requestAnimationFrame)c.requestAnimationFrame=function(t,i){var s=(new Date).getTime();var e=Math.max(0,16-(s-r));var o=c.setTimeout(function(){t(s+e)},e);r=s+e;return o};if(!c.cancelAnimationFrame)c.cancelAnimationFrame=function(t){clearTimeout(t)}})()});